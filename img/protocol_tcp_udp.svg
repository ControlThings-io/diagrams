<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="566px" preserveAspectRatio="none" style="width:755px;height:566px;" version="1.1" viewBox="0 0 755 566" width="755px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="104.5313" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="368.5" x="13" y="51.2969"/><rect fill="#FFFFFF" height="191.9297" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="731" x="13" y="169.8281"/><rect fill="#FFFFFF" height="133.6641" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="368.5" x="13" y="375.7578"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="93" x2="93" y1="34.2969" y2="526.4219"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="298.5" x2="298.5" y1="34.2969" y2="526.4219"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="395.5" x2="395.5" y1="34.2969" y2="526.4219"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="491.5" x2="491.5" y1="34.2969" y2="526.4219"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="660" x2="660" y1="34.2969" y2="526.4219"/><rect fill="#F8F8F8" height="30.2969" rx="5" ry="5" style="stroke: #383838; stroke-width: 1.5;" width="141" x="23" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="30" y="22.9951">ModbusTCP Client</text><rect fill="#F8F8F8" height="30.2969" rx="5" ry="5" style="stroke: #383838; stroke-width: 1.5;" width="141" x="23" y="525.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="30" y="545.417">ModbusTCP Client</text><rect fill="#F8F8F8" height="30.2969" rx="5" ry="5" style="stroke: #383838; stroke-width: 1.5;" width="146" x="225.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="232.5" y="22.9951">ModbusTCP Server</text><rect fill="#F8F8F8" height="30.2969" rx="5" ry="5" style="stroke: #383838; stroke-width: 1.5;" width="146" x="225.5" y="525.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="232.5" y="545.417">ModbusTCP Server</text><rect fill="#F8F8F8" height="30.2969" rx="5" ry="5" style="stroke: #383838; stroke-width: 1.5;" width="29" x="381.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="15" x="388.5" y="22.9951">vs</text><rect fill="#F8F8F8" height="30.2969" rx="5" ry="5" style="stroke: #383838; stroke-width: 1.5;" width="29" x="381.5" y="525.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="15" x="388.5" y="545.417">vs</text><rect fill="#F8F8F8" height="30.2969" rx="5" ry="5" style="stroke: #383838; stroke-width: 1.5;" width="143" x="420.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="129" x="427.5" y="22.9951">ModbusUDP Client</text><rect fill="#F8F8F8" height="30.2969" rx="5" ry="5" style="stroke: #383838; stroke-width: 1.5;" width="143" x="420.5" y="525.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="129" x="427.5" y="545.417">ModbusUDP Client</text><rect fill="#F8F8F8" height="30.2969" rx="5" ry="5" style="stroke: #383838; stroke-width: 1.5;" width="148" x="586" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="134" x="593" y="22.9951">ModbusUDP Server</text><rect fill="#F8F8F8" height="30.2969" rx="5" ry="5" style="stroke: #383838; stroke-width: 1.5;" width="148" x="586" y="525.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="134" x="593" y="545.417">ModbusUDP Server</text><path d="M18,51.2969 L342,51.2969 L342,58.2969 L332,68.2969 L13,68.2969 L13,56.2969 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="104.5313" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="368.5" x="13" y="51.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="284" x="28" y="64.3638">ModbusTCP Connection Establishment</text><ellipse cx="93" cy="88.8125" fill="none" rx="4" ry="4" style="stroke: #383838; stroke-width: 1.5;"/><polygon fill="#383838" points="286.5,85.5625,296.5,89.5625,286.5,93.5625,290.5,89.5625" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 2.0;" x1="97.5" x2="292.5" y1="89.5625" y2="89.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="100.5" y="84.4966">TCP SYN (Synchronize)</text><polygon fill="#383838" points="104.5,114.6953,94.5,118.6953,104.5,122.6953,100.5,118.6953" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 2.0;" x1="98.5" x2="297.5" y1="118.6953" y2="118.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="110.5" y="113.6294">TCP SYN ACK (Acknowledge)</text><polygon fill="#383838" points="286.5,143.8281,296.5,147.8281,286.5,151.8281,290.5,147.8281" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 2.0;" x1="93.5" x2="292.5" y1="147.8281" y2="147.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="100.5" y="142.7622">TCP ACK</text><path d="M18,169.8281 L325,169.8281 L325,176.8281 L315,186.8281 L13,186.8281 L13,174.8281 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="191.9297" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="731" x="13" y="169.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="267" x="28" y="182.895">ModbusTCP vs ModbusUDP Payload</text><polygon fill="#383838" points="286.5,204.0938,296.5,208.0938,286.5,212.0938,290.5,208.0938" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 2.0;" x1="93.5" x2="292.5" y1="208.0938" y2="208.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="100.5" y="203.0278">ModbusTCP Request</text><polygon fill="#383838" points="104.5,233.2266,94.5,237.2266,104.5,241.2266,100.5,237.2266" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 2.0;" x1="98.5" x2="297.5" y1="237.2266" y2="237.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="110.5" y="232.1606">TCP ACK</text><polygon fill="#383838" points="648,262.3594,658,266.3594,648,270.3594,652,266.3594" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 2.0;" x1="492" x2="654" y1="266.3594" y2="266.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="499" y="261.2935">ModbusUDP Request</text><polygon fill="#383838" points="104.5,291.4922,94.5,295.4922,104.5,299.4922,100.5,295.4922" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 2.0;" x1="98.5" x2="297.5" y1="295.4922" y2="295.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="110.5" y="290.4263">ModbusTCP Response</text><polygon fill="#383838" points="286.5,320.625,296.5,324.625,286.5,328.625,290.5,324.625" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 2.0;" x1="93.5" x2="292.5" y1="324.625" y2="324.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="100.5" y="319.5591">TCP ACK</text><polygon fill="#383838" points="503,349.7578,493,353.7578,503,357.7578,499,353.7578" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 2.0;" x1="497" x2="659" y1="353.7578" y2="353.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="509" y="348.6919">ModubsUDP Response</text><path d="M18,375.7578 L309,375.7578 L309,382.7578 L299,392.7578 L13,392.7578 L13,380.7578 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="133.6641" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="368.5" x="13" y="375.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="251" x="28" y="388.8247">ModbusTCP Connection Teardown</text><polygon fill="#383838" points="286.5,410.0234,296.5,414.0234,286.5,418.0234,290.5,414.0234" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 2.0;" x1="93.5" x2="292.5" y1="414.0234" y2="414.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="100.5" y="408.9575">TCP FIN (Finalize)</text><polygon fill="#383838" points="104.5,439.1563,94.5,443.1563,104.5,447.1563,100.5,443.1563" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 2.0;" x1="98.5" x2="297.5" y1="443.1563" y2="443.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="110.5" y="438.0903">TCP FIN or FIN ACK</text><polygon fill="#383838" points="104.5,468.2891,94.5,472.2891,104.5,476.2891,100.5,472.2891" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" x1="98.5" x2="297.5" y1="472.2891" y2="472.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="110.5" y="467.2231">TCP ACK</text><line style="stroke: #383838; stroke-width: 2.0;" x1="280.5" x2="290.5" y1="496.4219" y2="506.4219"/><line style="stroke: #383838; stroke-width: 2.0;" x1="280.5" x2="290.5" y1="506.4219" y2="496.4219"/><line style="stroke: #383838; stroke-width: 2.0;" x1="93.5" x2="285.5" y1="501.4219" y2="501.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="100.5" y="496.356">TCP ACK</text><!--MD5=[b41623f1a6613d9e8da61caeda764bec]
@startuml
skinparam monochrome true
skinparam shadowing false
skinparam sequenceArrowThickness 2
skinparam roundcorner 10
skinparam sequenceReferenceAlign center

participant "ModbusTCP Client" as TcpClient
participant "ModbusTCP Server" as TcpServer
participant "vs"
participant "ModbusUDP Client" as UdpClient
participant "ModbusUDP Server" as UdpServer

group ModbusTCP Connection Establishment
    TcpClient o-> TcpServer: TCP SYN (Synchronize)
    TcpServer -> TcpClient: TCP SYN ACK (Acknowledge)
    TcpClient -> TcpServer: TCP ACK
end

group ModbusTCP vs ModbusUDP Payload
    TcpClient -> TcpServer : ModbusTCP Request
    TcpClient <- TcpServer : TCP ACK
    UdpClient -> UdpServer : ModbusUDP Request
    TcpServer -> TcpClient : ModbusTCP Response
    TcpServer <- TcpClient : TCP ACK
    UdpClient <- UdpServer : ModubsUDP Response
end

group ModbusTCP Connection Teardown
    TcpClient -> TcpServer: TCP FIN (Finalize)
    TcpClient <- TcpServer: TCP FIN or FIN ACK
    TcpClient <- - TcpServer: TCP ACK
    TcpClient ->x TcpServer: TCP ACK
End


@enduml

PlantUML version 1.2020.02(Sun Mar 01 03:22:07 MST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.12+7-post-Debian-2
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>