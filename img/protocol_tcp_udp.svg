<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="610px" preserveAspectRatio="none" style="width:721px;height:610px;background:#FFFFFF;" version="1.1" viewBox="0 0 721 610" width="721px" zoomAndPan="magnify"><defs/><g><rect height="114.8241" rx="5" ry="5" style="stroke:#000000;stroke-width:1.5;fill:none;" width="353" x="10" y="56.0679"/><rect height="209.9421" rx="5" ry="5" style="stroke:#000000;stroke-width:1.5;fill:none;" width="705" x="10" y="184.892"/><rect height="146.5301" rx="5" ry="5" style="stroke:#000000;stroke-width:1.5;fill:none;" width="353" x="10" y="408.8341"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="87" x2="87" y1="39.0679" y2="572.3642"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="283" x2="283" y1="39.0679" y2="572.3642"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="377" x2="377" y1="39.0679" y2="572.3642"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="469" x2="469" y1="39.0679" y2="572.3642"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="634" x2="634" y1="39.0679" y2="572.3642"/><rect fill="#E3E3E3" height="33.0679" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="135" x="20" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="27" y="26.9659">ModbusTCP Client</text><rect fill="#E3E3E3" height="33.0679" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="135" x="20" y="571.3642"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="27" y="593.3301">ModbusTCP Client</text><rect fill="#E3E3E3" height="33.0679" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="139" x="214" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="221" y="26.9659">ModbusTCP Server</text><rect fill="#E3E3E3" height="33.0679" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="139" x="214" y="571.3642"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="221" y="593.3301">ModbusTCP Server</text><rect fill="#E3E3E3" height="33.0679" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="28" x="363" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="14" x="370" y="26.9659">vs</text><rect fill="#E3E3E3" height="33.0679" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="28" x="363" y="571.3642"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="14" x="370" y="593.3301">vs</text><rect fill="#E3E3E3" height="33.0679" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="137" x="401" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="408" y="26.9659">ModbusUDP Client</text><rect fill="#E3E3E3" height="33.0679" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="137" x="401" y="571.3642"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="408" y="593.3301">ModbusUDP Client</text><rect fill="#E3E3E3" height="33.0679" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="141" x="564" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="571" y="26.9659">ModbusUDP Server</text><rect fill="#E3E3E3" height="33.0679" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="141" x="564" y="571.3642"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="571" y="593.3301">ModbusUDP Server</text><path d="M15,56.0679 L303,56.0679 L303,65.7739 L293,75.7739 L10,75.7739 L10,61.0679 A5,5 0 0 1 15,56.0679 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="114.8241" rx="5" ry="5" style="stroke:#000000;stroke-width:1.5;" width="353" x="10" y="56.0679"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="248" x="25" y="70.9649">ModbusTCP Connection Establishment</text><ellipse cx="87" cy="98.7299" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="271.5,95.4799,281.5,99.4799,271.5,103.4799,275.5,99.4799" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:2.0;" x1="91.5" x2="277.5" y1="99.4799" y2="99.4799"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="94.5" y="93.6709">TCP SYN (Synchronize)</text><polygon fill="#181818" points="98.5,127.186,88.5,131.186,98.5,135.186,94.5,131.186" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:2.0;" x1="92.5" x2="282.5" y1="131.186" y2="131.186"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="104.5" y="125.377">TCP SYN ACK (Acknowledge)</text><polygon fill="#181818" points="271.5,158.892,281.5,162.892,271.5,166.892,275.5,162.892" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:2.0;" x1="87.5" x2="277.5" y1="162.892" y2="162.892"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="94.5" y="157.083">TCP ACK</text><path d="M15,184.892 L287.9688,184.892 L287.9688,194.598 L277.9688,204.598 L10,204.598 L10,189.892 A5,5 0 0 1 15,184.892 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="209.9421" rx="5" ry="5" style="stroke:#000000;stroke-width:1.5;" width="705" x="10" y="184.892"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="232.9688" x="25" y="199.789">ModbusTCP vs ModbusUDP Payload</text><polygon fill="#181818" points="271.5,224.304,281.5,228.304,271.5,232.304,275.5,228.304" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:2.0;" x1="87.5" x2="277.5" y1="228.304" y2="228.304"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="94.5" y="222.495">ModbusTCP Request</text><polygon fill="#181818" points="98.5,256.01,88.5,260.01,98.5,264.01,94.5,260.01" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:2.0;" x1="92.5" x2="282.5" y1="260.01" y2="260.01"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="104.5" y="254.201">TCP ACK</text><polygon fill="#181818" points="622.5,287.716,632.5,291.716,622.5,295.716,626.5,291.716" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:2.0;" x1="469.5" x2="628.5" y1="291.716" y2="291.716"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="476.5" y="285.907">ModbusUDP Request</text><polygon fill="#181818" points="98.5,319.4221,88.5,323.4221,98.5,327.4221,94.5,323.4221" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:2.0;" x1="92.5" x2="282.5" y1="323.4221" y2="323.4221"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="104.5" y="317.6131">ModbusTCP Response</text><polygon fill="#181818" points="271.5,351.1281,281.5,355.1281,271.5,359.1281,275.5,355.1281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:2.0;" x1="87.5" x2="277.5" y1="355.1281" y2="355.1281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="94.5" y="349.3191">TCP ACK</text><polygon fill="#181818" points="480.5,382.8341,470.5,386.8341,480.5,390.8341,476.5,386.8341" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:2.0;" x1="474.5" x2="633.5" y1="386.8341" y2="386.8341"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="486.5" y="381.0251">ModubsUDP Response</text><path d="M15,408.8341 L278.9688,408.8341 L278.9688,418.5401 L268.9688,428.5401 L10,428.5401 L10,413.8341 A5,5 0 0 1 15,408.8341 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="146.5301" rx="5" ry="5" style="stroke:#000000;stroke-width:1.5;" width="353" x="10" y="408.8341"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="223.9688" x="25" y="423.7311">ModbusTCP Connection Teardown</text><polygon fill="#181818" points="271.5,448.2461,281.5,452.2461,271.5,456.2461,275.5,452.2461" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:2.0;" x1="87.5" x2="277.5" y1="452.2461" y2="452.2461"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="94.5" y="446.4371">TCP FIN (Finalize)</text><polygon fill="#181818" points="98.5,479.9521,88.5,483.9521,98.5,487.9521,94.5,483.9521" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:2.0;" x1="92.5" x2="282.5" y1="483.9521" y2="483.9521"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="104.5" y="478.1431">TCP FIN or FIN ACK</text><polygon fill="#181818" points="98.5,511.6582,88.5,515.6582,98.5,519.6582,94.5,515.6582" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="92.5" x2="282.5" y1="515.6582" y2="515.6582"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="104.5" y="509.8492">TCP ACK</text><line style="stroke:#181818;stroke-width:2.0;" x1="265.5" x2="275.5" y1="542.3642" y2="552.3642"/><line style="stroke:#181818;stroke-width:2.0;" x1="265.5" x2="275.5" y1="552.3642" y2="542.3642"/><line style="stroke:#181818;stroke-width:2.0;" x1="87.5" x2="270.5" y1="547.3642" y2="547.3642"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="94.5" y="541.5552">TCP ACK</text><!--MD5=[8835d9ee681f52fb4da65b9472b3033b]
@startuml
skinparam monochrome true
skinparam shadowing false
skinparam sequenceArrowThickness 2
skinparam roundcorner 10
skinparam sequenceReferenceAlign center

participant "ModbusTCP Client" as TcpClient
participant "ModbusTCP Server" as TcpServer
participant "vs"
participant "ModbusUDP Client" as UdpClient
participant "ModbusUDP Server" as UdpServer

group ModbusTCP Connection Establishment
    TcpClient o-> TcpServer: TCP SYN (Synchronize)
    TcpServer -> TcpClient: TCP SYN ACK (Acknowledge)
    TcpClient -> TcpServer: TCP ACK
end

group ModbusTCP vs ModbusUDP Payload
    TcpClient -> TcpServer : ModbusTCP Request
    TcpClient <- TcpServer : TCP ACK
    UdpClient -> UdpServer : ModbusUDP Request
    TcpServer -> TcpClient : ModbusTCP Response
    TcpServer <- TcpClient : TCP ACK
    UdpClient <- UdpServer : ModubsUDP Response
end

group ModbusTCP Connection Teardown
    TcpClient -> TcpServer: TCP FIN (Finalize)
    TcpClient <- TcpServer: TCP FIN or FIN ACK
    TcpClient <- - TcpServer: TCP ACK
    TcpClient ->x TcpServer: TCP ACK
End


@enduml

PlantUML version 1.2022.5(Sat Apr 30 04:55:52 MDT 2022)
(LGPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>