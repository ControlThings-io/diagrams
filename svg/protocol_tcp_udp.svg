<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="563px" preserveAspectRatio="none" style="width:747px;height:563px;" version="1.1" viewBox="0 0 747 563" width="747px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="104.5313" rx="5" ry="5" style="stroke:#000000;stroke-width:2.0;" width="368.5" x="10" y="53.2969"/><rect fill="#FFFFFF" height="191.9297" rx="5" ry="5" style="stroke:#000000;stroke-width:2.0;" width="731" x="10" y="171.8281"/><rect fill="#FFFFFF" height="133.6641" rx="5" ry="5" style="stroke:#000000;stroke-width:2.0;" width="368.5" x="10" y="377.7578"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="90" x2="90" y1="36.2969" y2="528.4219"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="295.5" x2="295.5" y1="36.2969" y2="528.4219"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="392.5" x2="392.5" y1="36.2969" y2="528.4219"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="488.5" x2="488.5" y1="36.2969" y2="528.4219"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="657" x2="657" y1="36.2969" y2="528.4219"/><rect fill="#F8F8F8" height="30.2969" rx="5" ry="5" style="stroke:#383838;stroke-width:1.5;" width="141" x="20" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="27" y="24.9951">ModbusTCP Client</text><rect fill="#F8F8F8" height="30.2969" rx="5" ry="5" style="stroke:#383838;stroke-width:1.5;" width="141" x="20" y="527.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="27" y="547.417">ModbusTCP Client</text><rect fill="#F8F8F8" height="30.2969" rx="5" ry="5" style="stroke:#383838;stroke-width:1.5;" width="146" x="222.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="229.5" y="24.9951">ModbusTCP Server</text><rect fill="#F8F8F8" height="30.2969" rx="5" ry="5" style="stroke:#383838;stroke-width:1.5;" width="146" x="222.5" y="527.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="229.5" y="547.417">ModbusTCP Server</text><rect fill="#F8F8F8" height="30.2969" rx="5" ry="5" style="stroke:#383838;stroke-width:1.5;" width="29" x="378.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="15" x="385.5" y="24.9951">vs</text><rect fill="#F8F8F8" height="30.2969" rx="5" ry="5" style="stroke:#383838;stroke-width:1.5;" width="29" x="378.5" y="527.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="15" x="385.5" y="547.417">vs</text><rect fill="#F8F8F8" height="30.2969" rx="5" ry="5" style="stroke:#383838;stroke-width:1.5;" width="143" x="417.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="424.5" y="24.9951">ModbusUDP Client</text><rect fill="#F8F8F8" height="30.2969" rx="5" ry="5" style="stroke:#383838;stroke-width:1.5;" width="143" x="417.5" y="527.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="424.5" y="547.417">ModbusUDP Client</text><rect fill="#F8F8F8" height="30.2969" rx="5" ry="5" style="stroke:#383838;stroke-width:1.5;" width="148" x="583" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="590" y="24.9951">ModbusUDP Server</text><rect fill="#F8F8F8" height="30.2969" rx="5" ry="5" style="stroke:#383838;stroke-width:1.5;" width="148" x="583" y="527.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="590" y="547.417">ModbusUDP Server</text><path d="M15,53.2969 L339,53.2969 L339,60.2969 L329,70.2969 L10,70.2969 L10,58.2969 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="104.5313" rx="5" ry="5" style="stroke:#000000;stroke-width:2.0;" width="368.5" x="10" y="53.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="284" x="25" y="66.3638">ModbusTCP Connection Establishment</text><ellipse cx="90" cy="90.8125" fill="none" rx="4" ry="4" style="stroke:#383838;stroke-width:1.5;"/><polygon fill="#383838" points="283.5,87.5625,293.5,91.5625,283.5,95.5625,287.5,91.5625" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:2.0;" x1="94.5" x2="289.5" y1="91.5625" y2="91.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="97.5" y="86.4966">TCP SYN (Synchronize)</text><polygon fill="#383838" points="101.5,116.6953,91.5,120.6953,101.5,124.6953,97.5,120.6953" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:2.0;" x1="95.5" x2="294.5" y1="120.6953" y2="120.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="107.5" y="115.6294">TCP SYN ACK (Acknowledge)</text><polygon fill="#383838" points="283.5,145.8281,293.5,149.8281,283.5,153.8281,287.5,149.8281" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:2.0;" x1="90.5" x2="289.5" y1="149.8281" y2="149.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="97.5" y="144.7622">TCP ACK</text><path d="M15,171.8281 L322,171.8281 L322,178.8281 L312,188.8281 L10,188.8281 L10,176.8281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="191.9297" rx="5" ry="5" style="stroke:#000000;stroke-width:2.0;" width="731" x="10" y="171.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="267" x="25" y="184.895">ModbusTCP vs ModbusUDP Payload</text><polygon fill="#383838" points="283.5,206.0938,293.5,210.0938,283.5,214.0938,287.5,210.0938" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:2.0;" x1="90.5" x2="289.5" y1="210.0938" y2="210.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="97.5" y="205.0278">ModbusTCP Request</text><polygon fill="#383838" points="101.5,235.2266,91.5,239.2266,101.5,243.2266,97.5,239.2266" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:2.0;" x1="95.5" x2="294.5" y1="239.2266" y2="239.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="107.5" y="234.1606">TCP ACK</text><polygon fill="#383838" points="645,264.3594,655,268.3594,645,272.3594,649,268.3594" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:2.0;" x1="489" x2="651" y1="268.3594" y2="268.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="496" y="263.2935">ModbusUDP Request</text><polygon fill="#383838" points="101.5,293.4922,91.5,297.4922,101.5,301.4922,97.5,297.4922" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:2.0;" x1="95.5" x2="294.5" y1="297.4922" y2="297.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="107.5" y="292.4263">ModbusTCP Response</text><polygon fill="#383838" points="283.5,322.625,293.5,326.625,283.5,330.625,287.5,326.625" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:2.0;" x1="90.5" x2="289.5" y1="326.625" y2="326.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="97.5" y="321.5591">TCP ACK</text><polygon fill="#383838" points="500,351.7578,490,355.7578,500,359.7578,496,355.7578" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:2.0;" x1="494" x2="656" y1="355.7578" y2="355.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="506" y="350.6919">ModubsUDP Response</text><path d="M15,377.7578 L306,377.7578 L306,384.7578 L296,394.7578 L10,394.7578 L10,382.7578 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="133.6641" rx="5" ry="5" style="stroke:#000000;stroke-width:2.0;" width="368.5" x="10" y="377.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="251" x="25" y="390.8247">ModbusTCP Connection Teardown</text><polygon fill="#383838" points="283.5,412.0234,293.5,416.0234,283.5,420.0234,287.5,416.0234" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:2.0;" x1="90.5" x2="289.5" y1="416.0234" y2="416.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="97.5" y="410.9575">TCP FIN (Finalize)</text><polygon fill="#383838" points="101.5,441.1563,91.5,445.1563,101.5,449.1563,97.5,445.1563" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:2.0;" x1="95.5" x2="294.5" y1="445.1563" y2="445.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="107.5" y="440.0903">TCP FIN or FIN ACK</text><polygon fill="#383838" points="101.5,470.2891,91.5,474.2891,101.5,478.2891,97.5,474.2891" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="95.5" x2="294.5" y1="474.2891" y2="474.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="107.5" y="469.2231">TCP ACK</text><line style="stroke:#383838;stroke-width:2.0;" x1="277.5" x2="287.5" y1="498.4219" y2="508.4219"/><line style="stroke:#383838;stroke-width:2.0;" x1="277.5" x2="287.5" y1="508.4219" y2="498.4219"/><line style="stroke:#383838;stroke-width:2.0;" x1="90.5" x2="282.5" y1="503.4219" y2="503.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="97.5" y="498.356">TCP ACK</text><!--MD5=[6bf224715fe3781576c0241b2050bb40]
@startuml
skinparam monochrome true
skinparam shadowing false
skinparam sequenceArrowThickness 2
skinparam roundcorner 10
skinparam sequenceReferenceAlign center

participant "ModbusTCP Client" as TcpClient
participant "ModbusTCP Server" as TcpServer
participant "vs"
participant "ModbusUDP Client" as UdpClient
participant "ModbusUDP Server" as UdpServer

group ModbusTCP Connection Establishment
    TcpClient o-> TcpServer: TCP SYN (Synchronize)
    TcpServer -> TcpClient: TCP SYN ACK (Acknowledge)
    TcpClient -> TcpServer: TCP ACK
end

group ModbusTCP vs ModbusUDP Payload
    TcpClient -> TcpServer : ModbusTCP Request
    TcpClient <- TcpServer : TCP ACK
    UdpClient -> UdpServer : ModbusUDP Request
    TcpServer -> TcpClient : ModbusTCP Response
    TcpServer <- TcpClient : TCP ACK
    UdpClient <- UdpServer : ModubsUDP Response
end

group ModbusTCP Connection Teardown
    TcpClient -> TcpServer: TCP FIN (Finalize)
    TcpClient <- TcpServer: TCP FIN or FIN ACK
    TcpClient <- - TcpServer: TCP ACK
    TcpClient ->x TcpServer: TCP ACK
End


@enduml

PlantUML version 1.2021.00(Sun Jan 10 03:25:05 MST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>